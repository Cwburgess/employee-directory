(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{616:(e,t,a)=>{"use strict";function n(e){let t=e.toLowerCase();return t.includes("manager")?"bg-blue-600":t.includes("supervisor")?"bg-green-600":t.includes("coordinator")?"bg-purple-600":t.includes("technician")?"bg-orange-600":t.includes("engineer")?"bg-teal-600":t.includes("director")?"bg-red-600":t.includes("analyst")?"bg-yellow-600":"bg-gray-500"}a.d(t,{x:()=>n})},3526:(e,t,a)=>{Promise.resolve().then(a.bind(a,4093))},4093:(e,t,a)=>{"use strict";a.d(t,{default:()=>eA});var n=a(5155),r=a(2115),s=a(2467),l=a(3101),i=a(5016);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:r,asChild:l=!1,...c}=e,d=l?s.DX:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:r,className:t})),...c})}var d=a(2253),u=a(9475);function m(e){let{value:t,onChangeAction:a}=e,[s,l]=(0,r.useState)(null!=t?t:"grid"),i=null!=t?t:s,o=e=>{void 0===t&&l(e),a(e)};return(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 ",children:[(0,n.jsxs)(c,{type:"button",variant:"grid"===i?"default":"outline",onClick:()=>o("grid"),"aria-pressed":"grid"===i,children:[(0,n.jsx)(d.y1h,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,n.jsx)("span",{children:"Arrange by Department"})]}),(0,n.jsxs)(c,{type:"button",variant:"list"===i?"default":"outline",onClick:()=>o("list"),"aria-pressed":"list"===i,children:[(0,n.jsx)(u.lAY,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,n.jsx)("span",{children:"Arrange Alphabetically"})]})]})}var h=a(4115),g=a(5229);function x(e){let{...t}=e;return(0,n.jsx)(h.bL,{"data-slot":"sheet",...t})}function f(e){let{...t}=e;return(0,n.jsx)(h.l9,{"data-slot":"sheet-trigger",...t})}function p(e){let{...t}=e;return(0,n.jsx)(h.bm,{"data-slot":"sheet-close",...t})}function v(e){let{...t}=e;return(0,n.jsx)(h.ZL,{"data-slot":"sheet-portal",...t})}function b(e){let{className:t,...a}=e;return(0,n.jsx)(h.hJ,{"data-slot":"sheet-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function j(e){let{className:t,children:a,side:r="right",...s}=e;return(0,n.jsxs)(v,{children:[(0,n.jsx)(b,{}),(0,n.jsxs)(h.UC,{"data-slot":"sheet-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[a,(0,n.jsxs)(h.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,n.jsx)(g.A,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function y(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"sheet-header",className:(0,i.cn)("flex flex-col gap-1.5 p-4",t),...a})}function w(e){let{className:t,...a}=e;return(0,n.jsx)(h.hE,{"data-slot":"sheet-title",className:(0,i.cn)("text-foreground font-semibold",t),...a})}var N=a(8533);function C(e){let{className:t,children:a,...r}=e;return(0,n.jsxs)(N.bL,{"data-slot":"scroll-area",className:(0,i.cn)("relative",t),...r,children:[(0,n.jsx)(N.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,n.jsx)(k,{}),(0,n.jsx)(N.OK,{})]})}function k(e){let{className:t,orientation:a="vertical",...r}=e;return(0,n.jsx)(N.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,i.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:(0,n.jsx)(N.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var A=a(7268);function S(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...s}=e;return(0,n.jsx)(A.b,{"data-slot":"separator",decorative:r,orientation:a,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}var D=a(7918);let z=(0,l.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function F(e){let{className:t,variant:a,asChild:r=!1,...l}=e,o=r?s.DX:"span";return(0,n.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(z({variant:a}),t),...l})}function M(e){let{count:t}=e;return t<=0?null:(0,n.jsxs)(F,{variant:"secondary",className:"rounded-full",children:[t," active"]})}var L=a(6645),E=a(5917);function T(e){let{className:t,...a}=e;return(0,n.jsx)(L.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-lg border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,n.jsx)(L.C1,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,n.jsx)(E.A,{className:"size-3.5"})})})}function H(e){let{onlyMyCrew:t,myCrew:a,onChangeAction:r}=e;return(0,n.jsx)("section",{children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(T,{id:"only-my-crew",checked:t,onCheckedChange:e=>r(!!e)}),(0,n.jsxs)("label",{htmlFor:"only-my-crew",className:"text-sm font-medium",children:["Only my crew"," ",a?(0,n.jsxs)("span",{className:"text-muted-foreground",children:["(",a,")"]}):""]})]})})}var I=a(6059),B=a(9537);function U(e){let{unitsList:t,crewsByUnit:a,selectedCrewSet:s,onToggleUnitAction:l,onToggleCrewAction:o,className:c,expandedUnits:d,onExpandedChangeAction:u,initiallyExpandedUnits:m=[],showExpandCollapseAll:h=!1,singleCrewMode:g="hide",showCountsForSingleCrew:x=!1}=e,f=Array.isArray(d),[p,v]=r.useState(()=>new Set(m)),b=r.useMemo(()=>f?new Set(d):p,[f,d,p]);function j(e){f?null==u||u(Array.from(e)):v(e)}return(0,n.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-2",c),children:[h&&(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2 pr-2",children:[(0,n.jsx)("button",{type:"button",className:"h-7 px-2 text-sm rounded hover:bg-muted",onClick:function(){j(new Set(t))},children:"Expand all"}),(0,n.jsx)("button",{type:"button",className:"h-7 px-2 text-sm rounded hover:bg-muted",onClick:function(){j(new Set)},children:"Collapse all"})]}),(0,n.jsx)("ul",{role:"tree","aria-label":"Units and crews",className:"space-y-2 pr-1",children:t.map(e=>{var t,r,c;let d=null!=(t=a.get(e))?t:[];if(0===d.length)return null;let u=1===d.length,m=u?d[0]:void 0,{allOn:h,anyOn:f}=(r=d,c=s,{allOn:r.length>0&&r.every(e=>c.has(e)),anyOn:r.some(e=>c.has(e))}),p=u&&"autoExpand"===g,v=!!p||b.has(e),y=d.filter(e=>s.has(e)).length,w=!u||u&&"hide"!==g;return(0,n.jsxs)("li",{role:"treeitem","aria-expanded":w?v:void 0,className:"rounded-md",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 py-1 pl-1 pr-2",children:[w?(0,n.jsx)("button",{type:"button","aria-label":v?"Collapse ".concat(e):"Expand ".concat(e),className:(0,i.cn)("flex h-6 w-6 items-center justify-center rounded transition",p?"opacity-50 cursor-default":"hover:bg-muted"),onClick:()=>{p||function(e){let t=new Set(b);t.has(e)?t.delete(e):t.add(e),j(t)}(e)},disabled:p,children:v?(0,n.jsx)(I.A,{className:"h-4 w-4"}):(0,n.jsx)(B.A,{className:"h-4 w-4"})}):(0,n.jsx)("span",{className:"inline-block h-6 w-6","aria-hidden":!0}),(0,n.jsx)(T,{id:"unit-".concat(e),checked:!!h||!!f&&"indeterminate",onCheckedChange:t=>l(e,!!t)}),(0,n.jsx)("label",{htmlFor:"unit-".concat(e),className:"text-sm font-medium cursor-pointer",children:e}),(!u||x)&&(0,n.jsxs)("span",{className:"ml-auto text-xs text-muted-foreground",children:[y,"/",d.length]})]}),!u&&v||u&&"autoExpand"===g&&v?(0,n.jsx)("ul",{role:"group",className:"ml-8 mt-1 space-y-1 border-l pl-3",children:d.map(e=>{if(u&&"hide"===g&&e===m)return null;let t=s.has(e);return(0,n.jsx)("li",{role:"treeitem",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 py-1 pr-2",children:[(0,n.jsx)(T,{id:"crew-".concat(e),checked:t,onCheckedChange:t=>o(e,!!t)}),(0,n.jsx)("label",{htmlFor:"crew-".concat(e),className:"text-sm cursor-pointer",children:e})]})},e)})}):null]},e)})})]})}function _(e){let{locationsList:t,selectedLocations:a,onToggleLocationAction:r}=e;return(0,n.jsxs)("section",{children:[(0,n.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Locations"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[t.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(T,{id:"loc-".concat(e),checked:a.includes(e),onCheckedChange:t=>r(e,!!t)}),(0,n.jsx)("label",{htmlFor:"loc-".concat(e),className:"text-sm",children:e})]},e)),0===t.length&&(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"No location values found."})]})]})}function Y(e){let{onClearAllAction:t,onSelectAllAction:a}=e;return(0,n.jsxs)("div",{className:"mt-6 shrink-0 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c,{type:"button",variant:"ghost",size:"sm",onClick:t,children:"Clear all"}),(0,n.jsx)(c,{type:"button",variant:"ghost",size:"sm",onClick:a,children:"Select all"})]}),(0,n.jsx)(p,{asChild:!0,children:(0,n.jsx)(c,{type:"button",children:"Apply"})})]})}function O(e){let{showBirthdays:t,showNewHires:a,showAnniversaries:r,onToggleBirthdaysAction:s,onToggleNewHiresAction:l,onToggleAnniversariesAction:i}=e;return(0,n.jsxs)("section",{children:[(0,n.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Special Filters"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("label",{htmlFor:"filter-birthdays",className:"flex items-start gap-2",children:[(0,n.jsx)(T,{id:"filter-birthdays",checked:t,onCheckedChange:e=>s(!0===e),className:"mt-0.5"}),(0,n.jsx)("span",{className:"text-sm leading-5",children:"Birthdays This Month"})]}),(0,n.jsxs)("label",{htmlFor:"filter-newhires",className:"flex items-start gap-2",children:[(0,n.jsx)(T,{id:"filter-newhires",checked:a,onCheckedChange:e=>l(!0===e),className:"mt-0.5"}),(0,n.jsx)("span",{className:"text-sm leading-5",children:"New Hires (Last 30 Days)"})]}),(0,n.jsxs)("label",{htmlFor:"filter-anniversaries",className:"flex items-start gap-2",children:[(0,n.jsx)(T,{id:"filter-anniversaries",checked:r,onCheckedChange:e=>i(!0===e),className:"mt-0.5"}),(0,n.jsx)("span",{className:"text-sm leading-5",children:"ACHD Anniversaries This Month (5–55 yrs)"})]})]})]})}let P=e=>!!e&&e.trim().length>0,R=e=>e.replace(/\D+/g,"").length>=7,J=(e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"}),V="ed.selectedUnits",W="ed.selectedCrews",$="ed.selectedLocations",K="ed.onlyMyCrew",Z=new Set([5,10,15,20,25,30,35,40,45,50,55]);function q(e){if(!e)return null;let[t,a,n]=e.split("-").map(Number);return t&&a&&n?new Date(t,a-1,n):null}function X(e){let{groups:t,onChangeAction:a,allowedCrews:s,hardDefaultToMyCrew:l=!0,className:o,defaultOpen:d=!1,triggerSize:u="default",triggerVariant:m="outline",triggerClassName:h,onSpecialPredicateChangeAction:g}=e,[p,v]=r.useState(d),{selectedUnits:b,setSelectedUnits:N,selectedCrews:k,setSelectedCrews:A,selectedLocations:z,setSelectedLocations:F,onlyMyCrew:L,setOnlyMyCrew:E,myCrew:T,selectedCrewSet:I,activeCount:B,clearAll:X}=function(e){let{groups:t,onChangeAction:a,hardDefaultToMyCrew:n=!0}=e,[s,l]=r.useState([]),[i,o]=r.useState([]),[c,d]=r.useState([]),[u,m]=r.useState(!1),[h,g]=r.useState(null),x=r.useRef(!1);r.useEffect(()=>{try{let e=JSON.parse(localStorage.getItem(V)||"[]"),t=JSON.parse(localStorage.getItem(W)||"[]"),a=JSON.parse(localStorage.getItem($)||"[]"),n="true"===localStorage.getItem(K);Array.isArray(e)&&l(e),Array.isArray(t)&&o(t),Array.isArray(a)&&d(a),m(n)}catch(e){}fetch("/api/my-crew",{cache:"no-store"}).then(e=>e.ok?e.json():Promise.reject(e)).then(e=>g((null==e?void 0:e.crew)||null)).catch(()=>g(null))},[]),r.useEffect(()=>{if(n&&!x.current&&h&&0===s.length&&0===i.length&&0===c.length&&!u){var e;x.current=!0,m(!0),o([h]);let a=null==(e=t.find(e=>e.crew===h))?void 0:e.unit;a&&l([a])}},[h,n,t,s.length,i.length,c.length,u]),r.useEffect(()=>{localStorage.setItem(V,JSON.stringify(s))},[s]),r.useEffect(()=>{localStorage.setItem(W,JSON.stringify(i))},[i]),r.useEffect(()=>{localStorage.setItem($,JSON.stringify(c))},[c]),r.useEffect(()=>{localStorage.setItem(K,u?"true":"false")},[u]),r.useEffect(()=>{null==a||a({units:s,crews:i,locations:c,onlyMyCrew:u})},[a,s,i,c,u]);let f=r.useMemo(()=>new Set(i),[i]),p=+!!s.length+ +!!i.length+ +!!c.length+ +!!u;return{selectedUnits:s,setSelectedUnits:l,selectedCrews:i,setSelectedCrews:o,selectedLocations:c,setSelectedLocations:d,onlyMyCrew:u,setOnlyMyCrew:m,myCrew:h,selectedCrewSet:f,activeCount:p,clearAll:function(){l([]),o([]),d([]),m(!1)}}}({groups:t,onChangeAction:a,hardDefaultToMyCrew:l}),{showBirthdays:Q,setShowBirthdays:G,showNewHires:ee,setShowNewHires:et,showAnniversaries:ea,setShowAnniversaries:en,matchesSpecialFilters:er}=function(){let[e,t]=r.useState(!1),[a,n]=r.useState(!1),[s,l]=r.useState(!1),i=r.useCallback(t=>{if(!(e||a||s))return!0;let n=new Date,r=!!e&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=q(e);return!!a&&a.getMonth()===t.getMonth()}(t.birthDate,n),l=!!a&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=q(e);if(!a)return!1;let n=t.getTime()-a.getTime();return n>=0&&n<=2592e6}(t.hireDate,n),i=!!s&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=q(e);if(!a)return!1;let n=t.getFullYear()-a.getFullYear();return Z.has(n)&&a.getMonth()===t.getMonth()}(t.hireDate,n);return r||l||i},[e,a,s]);return{showBirthdays:e,setShowBirthdays:t,showNewHires:a,setShowNewHires:n,showAnniversaries:s,setShowAnniversaries:l,matchesSpecialFilters:i}}();r.useEffect(()=>{G(!1)},[G]),r.useEffect(()=>{console.log("[SpecialFlags]",{showBirthdays:Q,showNewHires:ee,showAnniversaries:ea})},[Q,ee,ea]),r.useEffect(()=>{var e,a;let n=null==t||null==(a=t[0])||null==(e=a.members)?void 0:e[0];n&&console.log("[SpecialPredicate probe]",n.name,er(n))},[t,er]),r.useEffect(()=>{console.log("%c[Panel] calling onSpecialPredicateChangeAction","color:#149386",{hasCallback:!!g}),null==g||g(er)},[er,g]);let{unitsList:es,crewsByUnit:el,allCrewNames:ei,locationsList:eo}=function(e,t){let a=r.useMemo(()=>t?t.join("\x01"):"",[t]),{unitsList:n,crewsByUnit:s,allCrewNames:l,locationsList:i}=r.useMemo(()=>{let a=t&&t.length?new Set(t):null,n=new Set,r=new Map,s=new Set,l=new Set;for(let t of e||[]){let e=(t.unit||"Unassigned").trim(),i=(t.crew||"Unassigned").trim();for(let o of((!a||a.has(i))&&(n.add(e),r.has(e)||r.set(e,new Set),r.get(e).add(i),s.add(i)),t.members||[])){let e=(o.location||"").trim();!P(e)||R(e)||/^\d+$/.test(e)||"null"===e.toLowerCase()||l.add(e)}}let i=new Map;for(let[e,t]of r)i.set(e,Array.from(t).sort(J));let o=Array.from(n).filter(e=>{var t,a;return(null!=(a=null==(t=i.get(e))?void 0:t.length)?a:0)>0}).sort(J);return{unitsList:o,crewsByUnit:i,allCrewNames:Array.from(s).sort(J),locationsList:Array.from(l).sort(J)}},[e,a,t]);return{unitsList:n,crewsByUnit:s,allCrewNames:l,locationsList:i}}(t,s),[ec,ed]=r.useState(()=>b);return r.useMemo(()=>t.map(e=>({...e,members:e.members.filter(t=>{let a=0===b.length||b.includes(e.unit),n=0===k.length||k.includes(e.crew),r=0===z.length||z.includes(t.location),s=er(t);return a&&n&&r&&s})})),[t,b,k,z,er]),(0,n.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",o),children:[(0,n.jsx)(M,{count:B}),(0,n.jsxs)(x,{open:p,onOpenChange:v,children:[(0,n.jsx)(f,{asChild:!0,children:(0,n.jsxs)(c,{variant:m,size:u,className:(0,i.cn)("h-9 px-3 leading-none",h),children:[(0,n.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,n.jsxs)(j,{className:"w-[380px] sm:w-[420px] flex flex-col pl-4 sm:pl-6",children:[(0,n.jsx)(y,{className:"shrink-0",children:(0,n.jsx)(w,{children:"Filter Employees"})}),(0,n.jsxs)("div",{className:"mt-4 flex-1 min-h-0 flex flex-col gap-8",children:[(0,n.jsx)(H,{onlyMyCrew:L,myCrew:T,onChangeAction:e=>{if(E(e),e&&T){var a;A([T]);let e=null==(a=t.find(e=>e.crew===T))?void 0:a.unit;e&&N([e])}}}),(0,n.jsx)(S,{className:"my-4 bg-gray-300 h-0.5"}),(0,n.jsxs)("section",{className:"flex-1 min-h-0",children:[(0,n.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Depts & Crews"}),(0,n.jsx)(C,{className:"h-full pr-2",children:(0,n.jsx)(U,{unitsList:es,crewsByUnit:el,selectedCrewSet:I,onToggleUnitAction:function(e,t){var a;let n=null!=(a=el.get(e))?a:[];N(a=>{let n=new Set(a);return t?n.add(e):n.delete(e),Array.from(n)}),A(e=>{let a=new Set(e);return t?n.forEach(e=>a.add(e)):n.forEach(e=>a.delete(e)),Array.from(a)})},onToggleCrewAction:function(e,a){var n,r;A(t=>{let n=new Set(t);return a?n.add(e):n.delete(e),Array.from(n)});let s=null==(n=t.find(t=>t.crew===e))?void 0:n.unit;if(s){let t=null!=(r=el.get(s))?r:[];N(n=>{let r=new Set(n);return t.some(t=>t===e?a:I.has(t))?r.add(s):r.delete(s),Array.from(r)})}},expandedUnits:ec,onExpandedChangeAction:ed})})]}),(0,n.jsx)(S,{className:"my-4 bg-gray-300 h-0.5"}),(0,n.jsx)(_,{locationsList:eo,selectedLocations:z,onToggleLocationAction:function(e,t){F(a=>{let n=new Set(a);return t?n.add(e):n.delete(e),Array.from(n)})}}),(0,n.jsx)(S,{className:"my-4 bg-gray-300 h-0.5"}),(0,n.jsx)("section",{children:(0,n.jsx)("div",{className:"grid grid-cols-2  gap-3 items-start",children:(0,n.jsx)(O,{showBirthdays:Q,showNewHires:ee,showAnniversaries:ea,onToggleBirthdaysAction:G,onToggleNewHiresAction:et,onToggleAnniversariesAction:en})})})]}),(0,n.jsx)(Y,{onClearAllAction:X,onSelectAllAction:function(){N(es),A(ei),F(eo)}})]})]})]})}let Q=Array.from({length:26},(e,t)=>String.fromCharCode(65+t));function G(e){let{available:t,value:a,onChange:r,showAll:s=!0,className:l}=e;return(0,n.jsx)("div",{className:l,children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1",role:"tablist","aria-label":"Filter by last name initial",children:[s&&(0,n.jsx)(c,{type:"button",variant:null===a?"default":"outline",onClick:()=>r(null),"aria-pressed":null===a,children:"All"}),Q.map(e=>{let s=0===(t[e]||0),l=a===e;return(0,n.jsx)(c,{type:"button",variant:l?"default":"outline",onClick:()=>r(e),"aria-pressed":l,"aria-disabled":s,disabled:s,className:s?"opacity-50 cursor-not-allowed":"",children:e},e)})]})})}var ee=a(63);function et(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function ea(e){let{layout:t,onLayoutChangeAction:a,groups:s,onFiltersChangeAction:l,showAlphaBar:i=!1,letterCounts:o,selectedLetter:c,onLetterChangeAction:d,className:u,sticky:h=!0,fullBleed:g=!0,onSearchChangeAction:x,onSpecialPredicateChangeAction:f,anniversaryOverride:p}=e,[v,b]=r.useState(""),j="1"===(0,ee.useSearchParams)().get("anniversary"),y=r.useMemo(()=>new Date,[]),w=!!p||j||7===y.getMonth()&&11===y.getDate(),N=y.getFullYear()-1971,C=w&&N>0?"Today is ACHD's ".concat(N).concat(function(e){let t=e%100;if(t>=11&&t<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(N)," Anniversary!"):null,k=w?{backgroundColor:"#27AAE1",color:"#000"}:void 0;return(0,n.jsx)("div",{className:et(g&&"-mx-2",h&&"sticky top-0 z-50","bg-white dark:bg-gray-900 text-black dark:text-white","shadow-md border-b border-gray-200 dark:border-gray-700","transition-colors duration-500",u),style:k,"aria-live":"polite",children:(0,n.jsxs)("div",{className:"mx-auto max-w-screen-2xl px-2",children:[C&&(0,n.jsx)("div",{className:"pt-2 flex justify-center",children:(0,n.jsxs)("div",{className:et("inline-flex items-center gap-2 rounded-full","bg-black/10 px-6 py-3 text-xl font-bold","shadow-sm ring-1 ring-black/10","motion-safe:animate-pulse"),role:"status","aria-label":C,title:C,children:[(0,n.jsx)("span",{"aria-hidden":!0,children:"\uD83C\uDF89"}),(0,n.jsx)("span",{children:C}),(0,n.jsx)("span",{"aria-hidden":!0,children:"\uD83E\uDD73"})]})}),(0,n.jsxs)("div",{className:"py-3 flex items-center justify-between flex-wrap gap-2",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"ACHD Employee Directory"}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"text",placeholder:"Search employees...",value:v,onChange:e=>{var t;b(t=e.target.value),null==x||x(t)},className:et("h-9 px-3 pr-10 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary",w?"border-black/30 bg-white text-black":"border-gray-300"),"aria-label":"Search employees"}),v&&(0,n.jsx)("button",{onClick:()=>{b(""),null==x||x("")},className:et("absolute right-2 top-1/2 -translate-y-1/2 hover:text-gray-700",w?"text-gray-700":"text-gray-500"),"aria-label":"Clear search",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 8.586l4.95-4.95a1 1 0 111.414 1.414L11.414 10l4.95 4.95a1 1 0 01-1.414 1.414L10 11.414l-4.95 4.95a1 1 0 01-1.414-1.414L8.586 10l-4.95-4.95a1 1 0 011.414-1.414L10 8.586z",clipRule:"evenodd"})})})]}),(0,n.jsx)(m,{value:t,onChangeAction:a}),(0,n.jsx)(X,{groups:s,hardDefaultToMyCrew:!1,onChangeAction:l,triggerSize:"default",triggerClassName:"h-9 px-3 leading-none",onSpecialPredicateChangeAction:f})]})]}),i&&(0,n.jsx)("div",{className:"pb-2",children:(0,n.jsx)(G,{className:"px-2 flex flex-nowrap items-center overflow-x-auto whitespace-nowrap gap-1 no-scrollbar md:justify-center",available:null!=o?o:{},value:null!=c?c:null,onChange:null!=d?d:()=>{}})})]})})}var en=a(2619),er=a.n(en),es=a(6948),el=a(5897),ei=a(5403),eo=a(616),ec=a(8266),ed=a(5867),eu=a(6429);function em(e){if(!e)return null;let[t,a,n]=e.split("-").map(Number);return t&&a&&n?new Date(t,a-1,n):null}function eh(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function eg(e,t,a){return 1===e&&29===t&&(a%4!=0||a%100==0)&&a%400!=0?{month:1,day:28}:{month:e,day:t}}function ex(e){return e.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}function ef(e){let t=e%10,a=e%100;return 1===t&&11!==a?"".concat(e,"st"):2===t&&12!==a?"".concat(e,"nd"):3===t&&13!==a?"".concat(e,"rd"):"".concat(e,"th")}function ep(e,t){let{month:a,day:n}=eg(e.getMonth(),e.getDate(),t),r=new Date(t,a,n),s=r.getDay();return 6===s?new Date(t,a,n-1):0===s?new Date(t,a,n-2):r}function ev(e,t){return t.getFullYear()-e.getFullYear()}function eb(e,t){let a=eh(e).getTime();return Math.round((eh(t).getTime()-a)/864e5)}function ej(e){let{employee:t,avatarSize:a="lg",className:s}=e,l={name:t.name,jobtitle:t.jobtitle,number:t.number,extension:(0,ed.$z)(t.workphone,t.jobtitle)},i=l.extension,{ref:o,inView:c}=(0,eu.Wx)({triggerOnce:!0}),{isBirthdayToday:d,isAnniversaryToday:u,anniversaryYearsToday:m,isNewHire:h,upcomingBirthday:g,upcomingAnniversary:x}=(0,r.useMemo)(()=>{let e=new Date,a=em(t.birthDate),n=em(t.hireDate),r=function(e,t){if(!t)return!1;let a=eh(e);return eh(ep(t,a.getFullYear())).getTime()===a.getTime()}(e,a),s=!1,l=null;if(n){let{month:t,day:a}=eg(n.getMonth(),n.getDate(),e.getFullYear()),r=new Date(e.getFullYear(),t,a);(s=eh(r).getTime()===eh(e).getTime())&&(l=ev(n,r))}let i=null;if(a&&!r){let t=function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=eh(t),r=n.getFullYear(),s=ep(e,r),l=ep(e,r+1),i=eh(s).getTime(),o=n.getTime();return i>o||!a&&i===o?s:l}(a,e,!0),n=eb(e,t);n>=1&&n<=30&&(i={date:t,days:n})}let o=null;if(n&&!s){let t=function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=eh(t),r=n.getFullYear(),{month:s,day:l}=eg(e.getMonth(),e.getDate(),r),i=new Date(r,s,l),o=new Date(r+1,eg(e.getMonth(),e.getDate(),r+1).month,eg(e.getMonth(),e.getDate(),r+1).day),c=eh(i).getTime(),d=n.getTime();return c>d||!a&&c===d?i:o}(n,e,!0),a=eb(e,t);a>=1&&a<=14&&(o={date:t,days:a,years:ev(n,t)})}return{isBirthdayToday:r,isAnniversaryToday:s,anniversaryYearsToday:l,isNewHire:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if(!t)return!1;let n=eh(e).getTime()-eh(t).getTime();return n>=0&&n<=864e5*a}(e,n,30),upcomingBirthday:i,upcomingAnniversary:o}},[t.birthDate,t.hireDate]),f=d?"bg-pink-300":u?"bg-[#149386] text-white":"bg-background",p=["text-sm truncate",d||u?"text-white/95":"text-muted-foreground"].join(" "),v=!h||d||u?"":"ring-2 ring-offset-2 ring-offset-background ring-[#FBB040] shadow-[0_0_16px_rgba(251,176,64,0.55)]",b=u?(()=>{let e=null!=m?m:0;return e>=5&&e<=55?"\uD83C\uDF89 Happy ".concat(ef(e)," ACHD Anniversary!"):"\uD83C\uDF89 ACHD Anniversary"})():null;return(0,n.jsx)(er(),{href:"/".concat(t.ACHDEmpNo),passHref:!0,children:(0,n.jsxs)(es.Zp,{ref:o,className:["rounded-xl shadow-sm transition-transform duration-200 ease-in-out text-foreground hover:scale-[1.02] hover:shadow-md cursor-pointer",f,v,null!=s?s:""].join(" "),children:[(0,n.jsxs)(es.aR,{className:"flex items-center gap-4",children:[(0,n.jsxs)(el.eu,{className:"lg"===a?"h-24 w-24":"h-12 w-12",children:[(0,n.jsx)(el.BK,{src:(0,ei.o)(l),alt:t.name}),(0,n.jsx)(el.q5,{className:"".concat((0,eo.x)(t.jobtitle)," text-white font-semibold ").concat("lg"===a?"text-2xl":"text-base"),children:(0,ei.y)(l)})]}),(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("h2",{className:"text-lg font-bold truncate",children:(0,ec.u)(t.name)}),(0,n.jsx)("p",{className:p,children:(0,ec.u)(t.jobtitle)}),(0,n.jsxs)("div",{className:"mt-1 space-y-1",children:[d&&(0,n.jsx)("span",{className:"block text-xs font-bold text-pink-700",children:"\uD83C\uDF89 Happy Birthday!"}),b&&(0,n.jsx)("span",{className:"block text-xs font-bold ".concat(u?"text-white/90":"text-foreground"),children:b}),h&&(0,n.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold text-white bg-[#A76500] rounded",children:"\uD83C\uDD95 Welcome to the ACHD family!"}),!d&&g&&(0,n.jsxs)("span",{className:"block text-xs font-semibold text-pink-700",children:["\uD83C\uDF82 Birthday in ",g.days," day",1===g.days?"":"s"," (",ex(g.date),")"]}),!u&&x&&(0,n.jsxs)("span",{className:"block text-xs font-semibold text-[#0F6F65]",children:["\uD83C\uDF89 ACHD Anniversary in ",x.days," day",1===x.days?"":"s"," (",ex(x.date),x.years>=5&&x.years<=55?" • ".concat(ef(x.years)):"",")"]})]})]})]}),(0,n.jsxs)(es.Wu,{className:"grid grid-cols-2 gap-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Extension:"})," ",i]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Cell:"})," ",(0,ec.u)(t.number)]}),(0,n.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,n.jsx)("strong",{children:"Email:"})," ",(0,ec.u)(t.email)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Location:"})," ",(0,ec.u)(t.location)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Dept:"})," ",(0,ec.u)(t.unit)]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Crew:"})," ",(0,ec.u)(t.crew)]}),(0,n.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,n.jsx)("strong",{children:"Reports To:"})," ",(0,ec.u)(t.reportsto)]})]})]})})}var ey=a(5299);function ew(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"skeleton",className:(0,i.cn)("bg-accent animate-pulse rounded-md",t),...a})}function eN(e){var t;let a=(e||"").trim().replace(/\s+/g," ");if(!a)return{first:"",last:""};if(a.includes(",")){let[e,t]=a.split(",",2).map(e=>e.trim());return{first:t||"",last:e||""}}let n=new Set(["jr","jr.","sr","sr.","ii","iii","iv","v"]),r=a.split(" "),s=null==(t=r[r.length-1])?void 0:t.toLowerCase(),l=s&&n.has(s)?r.slice(0,-1):r;if(1===l.length)return{first:"",last:l[0]};let i=l[l.length-1]||"";return{first:l.slice(0,-1).join(" "),last:i}}function eC(e){return eN(e).last.toLocaleLowerCase()}function ek(e){return eN(e).first.toLocaleLowerCase()}function eA(){let[e,t]=(0,r.useState)("list"),[a,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)({units:[],crews:[],locations:[],onlyMyCrew:!1}),[g,x]=(0,r.useState)(()=>()=>!0),f=(0,r.useMemo)(()=>"function"==typeof g?g:()=>!0,[g]),[p,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/employee-directory?search=".concat(encodeURIComponent(d)),{cache:"no-store"});if(!e.ok)throw Error("Fetch failed");let t=await e.json();s(t)}catch(e){console.error("Failed to fetch employee data:",e),c(!0)}finally{i(!1)}})()},[d]);let b=(0,r.useMemo)(()=>{let e=new Set(m.units),t=new Set(m.locations),n=new Map;for(let r of a){let a=r.unit;if(!e.size||e.has(a))for(let e of r.members||[]){let r=!t.size||t.has(e.location||""),s=f(e);r&&s&&(n.has(a)||n.set(a,[]),n.get(a).push(e))}}return Array.from(n.entries()).map(e=>{let[t,a]=e;return{unit:t,members:a}})},[a,m,f]),j=(0,r.useMemo)(()=>[...b.flatMap(e=>e.members||[])].sort((e,t)=>{let a=eC(e.name),n=eC(t.name);if(a!==n)return a.localeCompare(n,void 0,{sensitivity:"base"});let r=ek(e.name),s=ek(t.name);return r.localeCompare(s,void 0,{sensitivity:"base"})}),[b]),y=(0,r.useMemo)(()=>{let e={};for(let t=0;t<26;t++)e[String.fromCharCode(65+t)]=0;for(let t of j){let a=(eN(t.name).last[0]||"").toUpperCase();a>="A"&&a<="Z"&&(e[a]=(e[a]||0)+1)}return e},[j]),w=(0,r.useMemo)(()=>{if(!p)return j;let e=p.toLowerCase();return j.filter(t=>eC(t.name).startsWith(e))},[j,p]);return(0,r.useEffect)(()=>{"grid"===e&&null!==p&&v(null)},[e,p]),(0,n.jsxs)("main",{className:"p-6",children:[(0,n.jsx)(ea,{layout:e,onLayoutChangeAction:t,groups:a,onFiltersChangeAction:h,onSearchChangeAction:u,showAlphaBar:"list"===e,letterCounts:y,selectedLetter:p,onLetterChangeAction:v,sticky:!0,fullBleed:!0,onSpecialPredicateChangeAction:e=>{console.log("%c[Page] storing special predicate","color:#149386"),x(()=>e)}}),l?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-muted-foreground",children:[(0,n.jsx)(ey.A,{className:"animate-spin h-6 w-6 mb-4"}),(0,n.jsx)("p",{children:"Loading employee data..."}),(0,n.jsx)("div",{className:"flex flex-wrap gap-4 mt-6 w-full",children:Array.from({length:6}).map((e,t)=>(0,n.jsxs)("div",{className:"rounded-xl border p-4 space-y-4 min-w-[320px] flex-1 sm:flex-[1_1_360px] lg:flex-[1_1_400px] max-w-[480px]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(ew,{className:"h-24 w-24 rounded-full"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(ew,{className:"h-4 w-44"}),(0,n.jsx)(ew,{className:"h-3 w-28"})]})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:Array.from({length:8}).map((e,t)=>(0,n.jsx)(ew,{className:"h-3 w-full"},t))})]},t))})]}):o?(0,n.jsx)("div",{className:"text-center text-red-500 py-10",children:(0,n.jsx)("p",{children:"⚠️ Failed to load employee data. Please try again later."})}):"grid"===e?(0,n.jsxs)("div",{className:"space-y-10",children:[b.map(e=>{let t="".concat(e.unit);return(0,n.jsxs)("section",{children:[(0,n.jsx)("header",{className:"mb-4",children:(0,n.jsxs)("h2",{className:"text-xl font-semibold",children:[e.unit," (",e.members.length,")"]})}),(0,n.jsx)("div",{className:"grid gap-4 justify-center",style:{gridTemplateColumns:"repeat(auto-fill, minmax(320px, 400px))"},children:(e.members||[]).map(t=>{let a=t.ACHDEmpNo||"".concat(e.unit,"-").concat(t.email||t.name);return(0,n.jsx)("div",{children:(0,n.jsx)(ej,{employee:t,avatarSize:"lg"})},a)})})]},t)}),0===b.length&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"No employees match these filters."})]}):(0,n.jsxs)("div",{className:"mt-6 md:mt-8 grid gap-4 justify-center grid-cols-[repeat(auto-fill,minmax(320px,400px))]",children:[w.map(e=>{let t=e.ACHDEmpNo||"".concat(e.unit,"-").concat(e.crew,"-").concat(e.email||e.name);return(0,n.jsx)("div",{children:(0,n.jsx)(ej,{employee:e})},t)}),0===w.length&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"No employees match these filters."})]})]})}},5016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var n=a(2821),r=a(5889);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}},5403:(e,t,a)=>{"use strict";a.d(t,{y:()=>l,o:()=>s});let n={"andy miller":"ammiller","amelia miller":"armiller","jesus lozano cervantes":"jlozano cervantes","juan gonzalez jr":"jgonzalez jr","elvis herrera vidales":"eherrera vidales","jaime del barrio":"jdel barrio","thomas candelaria jr":"tcandelaria jr","david martinez chavez":"dmartinez chavez","michele simpson white":"msimpson white","erica anderson maguire":"eanderson maguire","adam van patten":"avan patten","doug o'shea":"do'shea","edinson bautista mejia":"ebautista mejia","samuel o'reilly":"so'reilly","wil loyd":"wloyd iv","peter martinez sanchez":"pmartinez sanchez","sean anderson":"seanderson"};function r(e){var t,a;let n=(null!=e?e:"").normalize("NFKD").replace(/[\u0300-\u036f]/g,"").trim().split(/\s+/).filter(Boolean);if(0===n.length)return["",""];let r=null!=(a=null==(t=n[0])?void 0:t[0])?a:"",s=new Set(["JR","SR","II","III","IV","V"]),l=n.length>1?n[n.length-1]:"";return s.has(l.toUpperCase())&&n.length>2&&(l=n[n.length-2]),[r,l=l.replace(/[^A-Za-z0-9-]/g,"")]}function s(e){var t;let a=n[(null!=(t=e.name)?t:"").normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim().toLowerCase()],[s,l]=r(e.name),i="".concat(s).concat(l).toLowerCase(),o=function(e){try{return encodeURIComponent(decodeURIComponent(e))}catch(t){return encodeURIComponent(e)}}(function(e){let t=(null!=e?e:"").trim();return t.toLowerCase().endsWith(".jpg")?t:"".concat(t,".jpg")}(a&&a.trim().length>0?a.trim():i));return"".concat("https://employeedirectory/UserPhotos/").concat(o)}function l(e){var t;let[a,n]=r(e.name),s=null!=(t=n[0])?t:"";return"".concat(a).concat(s).toUpperCase()}},5867:(e,t,a)=>{"use strict";a.d(t,{$z:()=>r});var n=a(8266);let r=(e,t)=>{let a=(0,n.u)(e).replace(/\D+/g,"");return a?/^general\s*counsel$/i.test((0,n.u)(t))?a.slice(-4):a.slice(-3):""}},5897:(e,t,a)=>{"use strict";a.d(t,{BK:()=>i,eu:()=>l,q5:()=>o});var n=a(5155);a(2115);var r=a(6591),s=a(5016);function l(e){let{className:t,...a}=e;return(0,n.jsx)(r.bL,{"data-slot":"avatar",className:(0,s.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)(r._V,{"data-slot":"avatar-image",className:(0,s.cn)("aspect-square size-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,s.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}},6948:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>i,Zp:()=>s,aR:()=>l,wL:()=>o});var n=a(5155);a(2115);var r=a(5016);function s(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...a})}},8266:(e,t,a)=>{"use strict";a.d(t,{u:()=>n});let n=e=>{if(null==e)return"";let t=String(e).trim();return!t||/^(null|undefined|n\/a|na|none)$/i.test(t)?"":t}}}]);